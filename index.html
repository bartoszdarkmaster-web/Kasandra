<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<title>KASSANDRA – Decision Mode</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#0b0f14">

<style>
:root{
  --bg:#0b0f14;
  --panel:#121826;
  --border:#1f2636;
  --text:#e6edf3;
  --muted:#8b949e;
  --low:#3fb950;
  --guarded:#9acd32;
  --elevated:#ffaa00;
  --high:#ff3b3b;
  --critical:#ff0033;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,Segoe UI,Roboto,Arial;
}
header{
  padding:18px 20px;
  border-bottom:1px solid var(--border);
}
header h1{
  margin:0;
  font-size:18px;
  letter-spacing:.5px;
}
header small{
  color:var(--muted);
}
main{
  max-width:820px;
  margin:auto;
  padding:24px 18px;
}
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  padding:26px;
}
.risk-label{
  font-size:54px;
  font-weight:900;
  margin-bottom:4px;
}
.trend{
  font-size:15px;
  margin-bottom:18px;
}
.slider{
  margin:22px 0 10px;
}
.bar{
  position:relative;
  height:18px;
  border-radius:10px;
  background:linear-gradient(
    to right,
    var(--low) 0%,
    var(--guarded) 30%,
    var(--elevated) 50%,
    var(--high) 70%,
    var(--critical) 85%
  );
}
.marker{
  position:absolute;
  top:-8px;
  width:4px;
  height:34px;
  background:#fff;
  border-radius:2px;
}
.scale{
  display:flex;
  justify-content:space-between;
  font-size:11px;
  color:var(--muted);
  margin-top:6px;
}
.verdict{
  font-size:18px;
  line-height:1.45;
  margin-top:22px;
}
.toggle{
  margin-top:8px;
  font-size:14px;
  color:#58a6ff;
  cursor:pointer;
}
.meta{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  margin-top:20px;
}
.meta div{
  background:#0f1420;
  padding:10px 14px;
  border-radius:10px;
  font-size:14px;
}
.actions{
  margin-top:22px;
  display:flex;
  gap:12px;
}
button{
  background:#1f2636;
  color:var(--text);
  border:1px solid #2a3350;
  padding:10px 16px;
  border-radius:10px;
  font-weight:700;
}
footer{
  text-align:center;
  color:var(--muted);
  font-size:11px;
  padding:16px;
}
</style>
</head>

<body>

<header>
  <h1>KASSANDRA</h1>
  <small>Strategic Risk · Decision Mode</small>
</header>

<main>
<section class="panel">

  <div id="riskLabel" class="risk-label">HIGH</div>
  <div id="trendLabel" class="trend">↑ Trend wzrostowy (7 dni)</div>

  <div class="slider">
    <div class="bar">
      <div id="marker" class="marker"></div>
    </div>
    <div class="scale">
      <span>0.00</span><span>0.30</span><span>0.50</span><span>0.70</span><span>1.00</span>
    </div>
  </div>

  <div id="verdictShort" class="verdict">
    Presja eskalacyjna rośnie.
  </div>

  <div id="verdictLong" class="verdict" style="display:none;">
    Presja eskalacyjna rośnie. Wzrost napędzany jest zapleczem
    logistycznym (paliwo, transport) oraz rozbudową infrastruktury
    medycznej. Nie zaobserwowano potwierdzonych ruchów bojowych
    ani jawnej mobilizacji.
  </div>

  <div class="toggle" onclick="toggleVerdict()">▾ Rozwiń uzasadnienie</div>

  <div class="meta">
    <div>CEPI: <b id="value">0.78</b></div>
    <div>Zmiana 7d: <b>+0.08</b></div>
    <div>Confidence: <b>0.78</b></div>
    <div>Aktualizacja: <b id="time">—</b></div>
  </div>

  <div class="actions">
    <button>DLACZEGO?</button>
    <button>ANALYSIS MODE</button>
  </div>

</section>
</main>

<footer>
  Internal analytical tool · KASSANDRA
</footer>

<script>
/* === DANE MODELU === */
const cepi = 0.78;
const delta7 = 0.08;

/* === STREFY === */
function zone(v){
  if(v<0.30) return ["LOW","var(--low)"];
  if(v<0.50) return ["GUARDED","var(--guarded)"];
  if(v<0.70) return ["ELEVATED","var(--elevated)"];
  if(v<0.85) return ["HIGH","var(--high)"];
  return ["CRITICAL","var(--critical)"];
}

/* === TREND === */
function trend(d){
  if(d>=0.03) return "↑ Trend wzrostowy (7 dni)";
  if(d<=-0.03) return "↓ Trend spadkowy (7 dni)";
  return "→ Trend stabilny (7 dni)";
}

/* === RENDER === */
const z = zone(cepi);
document.getElementById("riskLabel").innerText = z[0];
document.getElementById("riskLabel").style.color = z[1];
document.getElementById("trendLabel").innerText = trend(delta7);
document.getElementById("value").innerText = cepi.toFixed(2);
document.getElementById("marker").style.left = (cepi*100)+"%";
document.getElementById("time").innerText =
  new Date().toISOString().slice(11,19);

/* === TOGGLE WERDYKTU === */
let expanded=false;
function toggleVerdict(){
  expanded=!expanded;
  document.getElementById("verdictShort").style.display=expanded?"none":"block";
  document.getElementById("verdictLong").style.display=expanded?"block":"none";
  document.querySelector(".toggle").innerText =
    expanded?"▴ Zwiń":"▾ Rozwiń uzasadnienie";
}
</script>

</body>
</html>
